$schema: ../../../docs/flow.schema.json
version: 1
run:
  output_dir: .runs/${RUN_ID}
steps:
  - id: schema_validation
    uses: shell
    run: >
      jsonschema --instance artifacts/knowledge_response.json
      agents/contracts/knowledge_response.schema.json
    timeout_sec: 30
  - id: terminology_check
    uses: shell
    run: >
      python src/automation/scripts/check_terminology.py
      artifacts/knowledge_response.json --ssot agents/SSOT.md
    timeout_sec: 30
  - id: knowledge_validation
    uses: shell
    run: >
      python src/automation/scripts/validate_knowledge.py
      artifacts/knowledge_response.json
    timeout_sec: 30
